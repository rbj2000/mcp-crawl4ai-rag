# Ollama-Only Environment Configuration
# =====================================
# For deployments using only Ollama as AI provider

# Server Configuration
HOST=0.0.0.0
PORT=8051
TRANSPORT=sse
ENVIRONMENT=ollama

# AI Provider Configuration (Ollama-only)
AI_PROVIDER=ollama
EMBEDDING_PROVIDER=ollama
LLM_PROVIDER=ollama

# Ollama Configuration
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_EMBEDDING_MODEL=nomic-embed-text
OLLAMA_LLM_MODEL=llama3.2:1b
OLLAMA_EMBEDDING_DIMENSION=768
EMBEDDING_DIMENSION=768
MODEL_CHOICE=llama3.2:1b

# Ollama Performance Settings
OLLAMA_NUM_PARALLEL=2
OLLAMA_NUM_THREAD=8
OLLAMA_CONTEXT_SIZE=4096
OLLAMA_KEEP_ALIVE=5m

# Vector Database Configuration (SQLite for local Ollama)
VECTOR_DB_PROVIDER=sqlite
SQLITE_DB_PATH=/app/data/ollama_vector_db.sqlite

# RAG Strategy Configuration (Optimized for Ollama)
USE_CONTEXTUAL_EMBEDDINGS=true
USE_HYBRID_SEARCH=false  # Simplified for local deployment
USE_AGENTIC_RAG=true
USE_RERANKING=false
USE_KNOWLEDGE_GRAPH=false

# Performance Configuration (Conservative for local resources)
MAX_CONCURRENT_REQUESTS=3
BATCH_SIZE=10
CACHE_TTL=1800  # 30 minutes
EMBEDDINGS_BATCH_SIZE=5
QUERY_TIMEOUT=60  # Longer timeout for local processing

# Security Configuration (Relaxed for local deployment)
CORS_ORIGINS=*
RATE_LIMIT_PER_MINUTE=30
MAX_CONTENT_LENGTH=5242880  # 5MB

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=text
ENABLE_METRICS=true

# Ollama Health Check Configuration
OLLAMA_HEALTH_CHECK_INTERVAL=30
OLLAMA_HEALTH_CHECK_TIMEOUT=15
OLLAMA_STARTUP_TIMEOUT=300  # 5 minutes for model loading

# Docker Compose Profile
COMPOSE_PROFILES=ollama,ollama-sqlite

# Development Features (Enabled for Ollama testing)
ENABLE_DEBUG_ENDPOINTS=true
ENABLE_SWAGGER_UI=true
ENABLE_PROFILING=false